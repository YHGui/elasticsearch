# ElasticSearch
## 全文搜索
一种将文件中所有文本与搜索项匹配的文字资料检索方法
### 数据结构
- 结构化：具有固定格式或有限长度的数据，如数据库，元数据
- 非结构化：不定长或无固定格式的数据，如邮件，word文档等
### 非结构化数据的检索
- 顺序扫描法(serial scaning)，适合小文件
- 全文搜索，提取非结构化数据中的一部分，重新组织，使其变为有结构，创建索引，然后
进行搜索。
### 全文搜索实现原理
- 建文本库
- 建立索引
- 执行搜索
- 过滤结果
### 全文搜索实现技术
- Lucene
- ElasticSearch:自带分布式管理功能，仅支持json，实时效率高
- Solr:借助zookeeper，支持json，xml格式
### ElasticSearch
- 文档(Documents):在面向对象观念就是一个对象，在ES里面，是一个大JSON对象，是指定
了唯一ID的最底层或者根对象。文档的位置由_index、_type、_id唯一标识。
- 索引(index):用于区分文档成组，即分到一组的文档集合。索引，用于存储文档和使文档
可被搜索。比如项目存索引project里，交易存sales等。
- 类型(type):用于区分索引中的文档，即在索引中对数据逻辑分区。比如索引project的项目数据，根据项目类型ui项目、插画项目等进行分区。
- 集群(cluster):
- 节点(node):一个elasticsearch运行实例就是节点，任何节点都可能成为集群中的主节点
，主节点负责集群内所有变更，比如索引增加和删除
- 分片(shard):es节点的最小工作单元，分片仅仅保存全部数据的一部分，分片的集合就是
es的索引，分片有主分片和副分片
- 文档存储的路由：当索引到一个文档，具体的文档数据会存储到一个分片，具体文档数据
会被切分，分别存储在不同分片中，通过hash在求余得到分片位置。
- 可扩展的开源全文搜索和分析引擎
- 快速地、近实时地对大数据进行存储、搜索和分析
- 用来支撑有复杂的数据搜索需求的企业级应用
- 特点：分布式，高可用，多类型，多API，面向文档，异步写入，近实时，基于Lucene，>开源
- 核心概念：近实时（1s延时，每隔n秒刷新，定期同步磁盘），集群，节点，索引，类型>，文档，分片，副本
